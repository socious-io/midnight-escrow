
> simple-counter-test@1.0.0 deploy
> tsx deploy.ts

üöÄ Escrow Contract Deploy

üìç Using existing contract: 020089c22e49f61e356db4fdf8e37480ba35a569296b0de491f91c970d16dc8b1cbc

[1/5] Building wallet...
‚úÖ Wallet: mn_shield-addr_test10p5tlytz2ec3x9ds4f8vqpprxg5v6apklt67zjht20c2jfkn9d9sxqzwaphvq928mqcupnt37vhhzqxak3fp9scrhypu3yq4z5403lsu6vp4w9es
   Balance: 946742713 tDUST

[2/5] Creating providers...
‚úÖ Providers ready

[3/5] Skipping deployment, using existing contract

[4/5] Testing join (to verify indexer works)...
   No coin tracking data found
‚úÖ JOIN worked in 1.17s

[5/5] Initial contract state:
   Last escrow ID: 1
   Instance counter: 1

[6/6] Creating escrow with 1 tDUST...
   Contributor: mn_shield-addr_test1x08854vlcnjk9wtt95ejz5wk2sd8s6w8lqu0jlsryak9j58qd8qsxqrzffwamyq2z4xuj95snfj06g0p8gpggq0jc0raxq8dpg4f2y9ucqvkdw46
   Parsed coin public key bytes length: 32
   Creating escrow with:
   - Amount: 1000000 (1 tDUST)
   - Contributor bytes: 32
   - Selected wallet coin with value: 946742713
   - Coin mt_index: 46039
   - Zswap firstFree before tx: 0
   ‚è≥ Proof generation may take 5-10 minutes...
‚ùå Error: <ref *2> $c_jl_Error [java.lang.Error]: java.lang.Throwable: Not sufficient funds to balance token: 02000000000000000000000000000000000000000000000000000000000000000000
    at file:///home/jeyem/Socious/simple-counter-test/node_modules/@midnight-ntwrk/wallet/dist/main.js:77599:70
    at $c_sjsr_AnonFunction1.b (file:///home/jeyem/Socious/simple-counter-test/node_modules/@midnight-ntwrk/wallet/dist/main.js:55069:23)
    at $p_Lcats_effect_IOFiber__failed__jl_Throwable__I__Lcats_effect_IO (file:///home/jeyem/Socious/simple-counter-test/node_modules/@midnight-ntwrk/wallet/dist/main.js:89958:20)
    at $p_Lcats_effect_IOFiber__runLoop__Lcats_effect_IO__I__I__V (file:///home/jeyem/Socious/simple-counter-test/node_modules/@midnight-ntwrk/wallet/dist/main.js:88826:39)
    at $p_Lcats_effect_IOFiber__execR__V (file:///home/jeyem/Socious/simple-counter-test/node_modules/@midnight-ntwrk/wallet/dist/main.js:90029:5)
    at $c_Lcats_effect_IOFiber.eZ (file:///home/jeyem/Socious/simple-counter-test/node_modules/@midnight-ntwrk/wallet/dist/main.js:90324:7)
    at file:///home/jeyem/Socious/simple-counter-test/node_modules/@midnight-ntwrk/wallet/dist/main.js:68074:14
    at $c_sjsr_AnonFunction0.X (file:///home/jeyem/Socious/simple-counter-test/node_modules/@midnight-ntwrk/wallet/dist/main.js:55050:23)
    at Immediate._onImmediate (file:///home/jeyem/Socious/simple-counter-test/node_modules/@midnight-ntwrk/wallet/dist/main.js:55015:19)
    at process.processImmediate (node:internal/timers:485:21) {
  Sf: 'java.lang.Throwable: Not sufficient funds to balance token: 02000000000000000000000000000000000000000000000000000000000000000000',
  nb: <ref *1> java.lang.Throwable: Not sufficient funds to balance token: 02000000000000000000000000000000000000000000000000000000000000000000
      at $c_Lio_iohk_midnight_wallet_core_WalletError$NotSufficientFunds.yK (file:///home/jeyem/Socious/simple-counter-test/node_modules/@midnight-ntwrk/wallet/dist/main.js:101805:34)
      at file:///home/jeyem/Socious/simple-counter-test/node_modules/@midnight-ntwrk/wallet/dist/main.js:34629:23
      at $c_sjsr_AnonFunction1.b (file:///home/jeyem/Socious/simple-counter-test/node_modules/@midnight-ntwrk/wallet/dist/main.js:55069:23)
      at $p_Lcats_effect_IOFiber__succeeded__O__I__Lcats_effect_IO (file:///home/jeyem/Socious/simple-counter-test/node_modules/@midnight-ntwrk/wallet/dist/main.js:89872:22)
      at $p_Lcats_effect_IOFiber__runLoop__Lcats_effect_IO__I__I__V (file:///home/jeyem/Socious/simple-counter-test/node_modules/@midnight-ntwrk/wallet/dist/main.js:88815:39)
      at $p_Lcats_effect_IOFiber__execR__V (file:///home/jeyem/Socious/simple-counter-test/node_modules/@midnight-ntwrk/wallet/dist/main.js:90029:5)
      at $c_Lcats_effect_IOFiber.eZ (file:///home/jeyem/Socious/simple-counter-test/node_modules/@midnight-ntwrk/wallet/dist/main.js:90324:7)
      at file:///home/jeyem/Socious/simple-counter-test/node_modules/@midnight-ntwrk/wallet/dist/main.js:68074:14
      at $c_sjsr_AnonFunction0.X (file:///home/jeyem/Socious/simple-counter-test/node_modules/@midnight-ntwrk/wallet/dist/main.js:55050:23)
      at Immediate._onImmediate (file:///home/jeyem/Socious/simple-counter-test/node_modules/@midnight-ntwrk/wallet/dist/main.js:55015:19) {
    Sf: 'Not sufficient funds to balance token: 02000000000000000000000000000000000000000000000000000000000000000000',
    nb: null,
    Sg: true,
    a6G: [Circular *1],
    oS: ArrayClass { a: [Array] }
  },
  Sg: true,
  a6G: [Circular *2],
  oS: ArrayClass { a: [ [$c_jl_StackTraceElement] ] }
}


> simple-counter-test@1.0.0 deploy
> tsx deploy.ts

üöÄ Escrow Contract Deploy

üìç Using existing contract: 02007c7d343ecc2f8bfc802c6cc247863ede645030a4f45518b9cc362419995683a4

[1/5] Building wallet...
‚úÖ Wallet: mn_shield-addr_test10p5tlytz2ec3x9ds4f8vqpprxg5v6apklt67zjht20c2jfkn9d9sxqzwaphvq928mqcupnt37vhhzqxak3fp9scrhypu3yq4z5403lsu6vp4w9es
   Balance: 1970687910 tDUST

[2/5] Creating providers...
‚úÖ Providers ready

[3/5] Skipping deployment, using existing contract

[4/5] Testing join (to verify indexer works)...
‚úÖ JOIN worked in 1.02s

[5/5] Initial contract state:
   Last escrow ID: 1
   Instance counter: 1

[6/6] Escrow ID 1 already exists, skipping creation

[7/7] Testing release to contributor...
   ‚è≥ Releasing escrow ID 1 (proof may take 2-3 minutes)...
‚ùå Error: Error: invalid index into sparse merkle tree: 0 -- write creating spend proof
    at __wbindgen_error_new (file:///home/jeyem/Socious/simple-counter-test/node_modules/@midnight-ntwrk/ledger/midnight_ledger_wasm_bg.js:7821:17)
    at wasm://wasm/0152566a:wasm-function[4615]:0x4fea6e
    at wasm://wasm/0152566a:wasm-function[3042]:0x443400
    at wasm://wasm/0152566a:wasm-function[4115]:0x473670
    at UnprovenInput.newContractOwned (file:///home/jeyem/Socious/simple-counter-test/node_modules/@midnight-ntwrk/ledger/midnight_ledger_wasm_bg.js:6016:26)
    at <anonymous> (/home/jeyem/Socious/simple-counter-test/node_modules/@midnight-ntwrk/midnight-js-contracts/src/utils/zswap-utils.ts:148:23)
    at Array.forEach (<anonymous>)
    at zswapStateToOffer (/home/jeyem/Socious/simple-counter-test/node_modules/@midnight-ntwrk/midnight-js-contracts/src/utils/zswap-utils.ts:127:26)
    at createUnprovenLedgerCallTx (/home/jeyem/Socious/simple-counter-test/node_modules/@midnight-ntwrk/midnight-js-contracts/src/utils/ledger-utils.ts:131:5)
    at createUnprovenCallTxFromInitialStates (/home/jeyem/Socious/simple-counter-test/node_modules/@midnight-ntwrk/midnight-js-contracts/src/unproven-call-tx.ts:85:19)

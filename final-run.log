
> simple-counter-test@1.0.0 deploy
> tsx deploy.ts

🚀 Escrow Contract Deployment & Testing

🔨 Building wallet...
  ✅ Wallet: mn_shield-addr_test1dgmkh2xlpr4emd6fxk59x8sgz58hstkt4wyy3djz42986p8cyh3qxqqryh4ahn43253dckeu63cr0x2e02xkqxvt8yy0v2d32kux42ngc5fh83k2
  Balance: 2000000000 tDUST
🔧 Creating providers...
✅ Providers ready
  Loaded 0 tracked coin(s)
📍 Joining contract: 020089c22e49f61e356db4fdf8e37480ba35a569296b0de491f91c970d16dc8b1cbc
  ✅ Joined in 0.95s

📊 Contract State:
  Last escrow ID: 3
  Instance counter: 1

🧪 Testing CREATE escrow...

  ✅ Using coin with value: 1000000000
  ⚠️  WARNING: Coin is much larger than needed!
  ⚠️  The contract will consume the ENTIRE coin (1000000000 units)
  ⚠️  Consider requesting more funds from faucet to get multiple coins
💰 Creating escrow...
  Amount: 10000 (0.01 tDUST)
  Contributor: mn_shield-addr_test1x08854vlcnjk9wtt95ejz5wk2sd8s6w8lqu0jlsryak9j58qd8qsxqrzffwamyq2z4xuj95snfj06g0p8gpggq0jc0raxq8dpg4f2y9ucqvkdw46
  Using coin value: 1000000000
  ⏳ Generating proof (may take several minutes)...

❌ Error: CompactError: type error: create argument 2 (argument 3 as invoked from Typescript) at escrow.compact line 19 char 1; expected value of type struct QualifiedCoinInfo<nonce: Bytes<32>, color: Bytes<32>, value: Uint<0..340282366920938463463374607431768211455>, mt_index: Uint<0..18446744073709551615>> but received { nonce: <Buffer ae f5 c4 6c 9e 12 d6 d1 85 0b b7 c1 ae 3d 1b 42 f7 c5 e7 ae 97 5d 53 c7 17 72 d0 21 56 cb 22 d9>, color: <Buffer 02 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00>, value: 1000000000n, mt_index: 46231n }
    at Object.type_error (/home/jeyem/Socious/simple-counter-test/node_modules/@midnight-ntwrk/compact-runtime/src/runtime.ts:1129:9)
    at create (/home/jeyem/Socious/simple-counter-test/contract/src/escrow.compact:21:28)
    at call (/home/jeyem/Socious/simple-counter-test/node_modules/@midnight-ntwrk/midnight-js-contracts/src/call.ts:215:42)
    at createUnprovenCallTxFromInitialStates (/home/jeyem/Socious/simple-counter-test/node_modules/@midnight-ntwrk/midnight-js-contracts/src/unproven-call-tx.ts:78:22)
    at createUnprovenCallTx (/home/jeyem/Socious/simple-counter-test/node_modules/@midnight-ntwrk/midnight-js-contracts/src/unproven-call-tx.ts:248:12)
    at async submitCallTx (/home/jeyem/Socious/simple-counter-test/node_modules/@midnight-ntwrk/midnight-js-contracts/src/submit-call-tx.ts:58:30)
    at async createEscrow (/home/jeyem/Socious/simple-counter-test/deploy.ts:306:24)
    at async main (/home/jeyem/Socious/simple-counter-test/deploy.ts:439:7)
